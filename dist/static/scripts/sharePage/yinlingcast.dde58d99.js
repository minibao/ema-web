var app=new Vue({el:"#app",data:{code:""},methods:{selUserRegisterCodeData:function(){var e=app.getDevice(),a="";a="ios"==e?"ios":"android",$.ajax({type:"POST",url:"/api/selUserRegisterCodeData",data:{gameCode:"20012",type:a},success:function(e){try{console.log(e),null==e.data||($("#li-code").html(e.data.code),app.code=e.data.code,$(".down").removeClass("bounceInUp"),$(".down").show(),$(".down").addClass("bounceInUp"),$(".participant").hide())}catch(a){}200!=e.resultCode}})},getUserRegisterCodeData:function(){var e=app.getDevice(),a="";a="ios"==e?"ios":"android",$.ajax({type:"POST",url:"/api/getUserRegisterCodeData",data:{gameCode:"20012",type:a},success:function(e){try{console.log(e),$("#li-code").html(e.data.code),app.code=e.data.code,$(".down").removeClass("bounceInUp"),$(".down").show(),$(".down").addClass("bounceInUp"),$(".participant").hide()}catch(a){}200!=e.resultCode&&layer.msg(e.resultMsg)}})},isWeiXin:function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)},getDevice:function(){var e=navigator.userAgent,a=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,o=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return a?"and":o?"ios":void 0}}}),code=util.getUrlParams("code");$(document).ready(function(){$(".downbtn").click(function(){var e=app.getDevice();if("ios"==e)window.location.href="https://itunes.apple.com/cn/app/id1143387668";else if("and"==e)if(app.isWeiXin()){var a=window.location.href+"?code="+app.code;window.location.href=a}else window.location.href="http://ylzhs-cdn.emagames.cn/packages/YL_emagroup.apk";else window.location.href="http://ylzhs.cn/"}),$(".mask").click(function(){$(".mask").hide()}),$(".participant").click(function(){app.getUserRegisterCodeData()}),""!=code&&null!=code?($(".mask").show(),app.isWeiXin()||($(".mask").hide(),$("#li-code").html(code),$(".down").removeClass("bounceInUp"),$(".down").show(),$(".down").addClass("bounceInUp"),$(".participant").hide())):app.selUserRegisterCodeData()});